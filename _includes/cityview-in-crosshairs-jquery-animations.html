
<div id="image-wrapper">
	<img src="{{ site.baseurl }}/images/any-map-image.jpg" title="Cityview">
	<div class="crosshair">
	  <div class="horizontal"><!--//--></div>	
	  <div class="vertical"><!--//--></div>
	  <div class="coordinateText"><!--//--></div>
	  <div class="diamond"><!--//--></div>
	</div>
	<script>

	var position = $(".crosshair").offset();

	$(".crosshair").click(function(e){
		//var position = $(".crosshair").offset();
		var cx = position.left;
		var cy = position.top;	
		var x = e.pageX - this.offsetLeft;
		var y = e.pageY - this.offsetTop;
		var coordinateX = x - cx;
		var coordinateY = y - cy;
		var coordinateText = "" + x +" .000° N," + y +  ".000° E";
		$(".crosshair .coordinateText").html(coordinateText).css({
			display:'none',
			position:'absolute',
			left:(coordinateX)  + 10 + 'px',
			top:(coordinateY) - 15 + 'px'
		});
	
	
		$(".diamond, .vertical, .horizontal").animate({
			'background-position': coordinateX + "px " + coordinateY + "px", 
			'background-position-x':coordinateX + "px",
			'background-position-y': coordinateY + "px",
			'-moz-background-position' : coordinateX + "px " + coordinateY + "px", 
			'opacity':'0.1',
			'-moz-opacity':'0.1'
			}, 500,'swing', function(){
			$(".diamond, .vertical, .horizontal").animate({	
				'opacity':1,
				'-moz-opacity':1
			},100, function(){
				$('.crosshair .coordinateText').delay(1400).slideDown(600);
			});
		});
	});		// should work now
	</script>
</div>

