
<div id="image-wrapper">
	<img src="{{ site.baseurl }}/images/any-map-image.jpg" title="Cityview">
	
	<div class="crosshair">
	<div class="coordinateText"></div>	
	  <img src="/images/crosshairs_full.png" alt="" />
	</div>
	<script>

	var position = $(".crosshair").offset();
	$(".crosshair").click(function(e){

		var cx = position.left;
		var cy = position.top;	
		var x = e.pageX - this.offsetLeft;
		var y = e.pageY - this.offsetTop;
		var coordinateX = x - cx;
		var coordinateY = y - cy;
		
		console.log("Click!! Mouse position is " + coordinateX + "and " + coordinateY );
		var coordinateText = x + ".000° N," + y +  ".000° E";
		$(".crosshair .coordinateText").html(coordinateText).css({
			display:'none',
			position:'absolute',
			left:(coordinateX)  + 10 + 'px',
			top:(coordinateY) - 15 + 'px'
		});
	
		$(".crosshair img").animate({
			"margin-left":coordinateX - 470 + "px",
			"margin-top":coordinateY - 480 +"px"
			}, 500,'swing', function(){
			$(".diamond, .vertical, .horizontal").animate({	
				'opacity':1
			},100, function(){
				$('.crosshair .coordinateText').delay(20).slideDown(600);
			});
		});
	});// should work now
	</script>
</div>

